# Code Review & Development Roadmap

## Overview
The "Sentient KVM - Mobile Agent" project is a promising hybrid application consisting of a React-based frontend for vision/logic and a Python-based backend for hardware actuation.

## Code Quality
*   **Frontend:** The code is well-structured using React functional components and hooks. The UI is polished with Tailwind CSS. Logic is currently concentrated in `App.tsx`, which could be refactored into custom hooks for better maintainability.
*   **Backend:** The Python code (`rng_operator`) uses a modular approach (`visual_cortex`, `hygienic_actuator`) but is currently isolated from the frontend. The `actuator.py` shows good attention to detail (humanized mouse movement).

## Testing Status
I have established a testing foundation for both parts of the application:
*   **Frontend:** Added `vitest`, `jsdom`, and React Testing Library. Created unit tests for `services/gemini.ts` and `components/ActionLog.tsx`.
*   **Backend:** Added `pytest`. Created unit tests for `rng_operator/core/actuator.py` covering both simulation and hardware modes.

## Critical Integration Gap
The most significant issue is the lack of communication between the Frontend (running on a phone) and the Backend (presumably running on a device like a Pi Zero acting as a USB Gadget).

## Roadmap for Continued Development

### 1. Establish Communication Bridge
You need a way to send the "Ducky Script" generated by the Frontend to the Backend.
*   **Option A (WebSockets):** Run a Python WebSocket server on the Backend. The Frontend connects to it via Wi-Fi.
*   **Option B (Bluetooth):** Use Web Bluetooth API on the Frontend to talk to the Backend (requires Bluetooth support on the backend device).
*   **Option C (HTTP):** Simple REST API (Flask/FastAPI) on the Backend.

### 2. Refactoring `App.tsx`
Extract the "Agent Loop" logic (Perceive -> Plan -> Act) into a custom hook `useAgentLoop`. This will separate the UI from the agent's state machine logic, making it easier to test and reason about.

### 3. Backend Implementation
*   Implement the API/Server in `rng_operator/main.py`.
*   Connect the `PolicyEngine` and `ImmutableLedger` to this server.

### 4. End-to-End Testing
Once the bridge is built, create integration tests that verify a command sent from the Frontend is received and executed (in simulation mode) by the Backend.

## How to Run Tests
*   **Frontend:** `npm run test`
*   **Backend:** `npm run test:backend` (or `pytest rng_operator/tests`)
*   **E2E:** `npm run test:e2e`
